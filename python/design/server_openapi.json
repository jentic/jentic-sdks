{"openapi":"3.1.0","info":{"title":"Jentic Directory API","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Root  Get"}}}}}}},"/api/v1/specs/files":{"get":{"tags":["Public/Specs"],"summary":"Get Api Spec Files","description":"Get all specification files for a specific API version.\n\nThis endpoint accepts query parameters to handle API IDs that contain slashes.\nIt supports lookup by either the API's UUID or its name/label.\n\nArgs:\n    api_id: API specification ID or name (can contain slashes)\n    version: API specification version\n    db_session: Database session (injected)\n    \nReturns:\n    SpecFilesResponse with all specification files","operationId":"get_api_spec_files_api_v1_specs_files_get","parameters":[{"name":"api_id","in":"query","required":true,"schema":{"type":"string","description":"API ID or name (can contain slashes)","title":"Api Id"},"description":"API ID or name (can contain slashes)"},{"name":"version","in":"query","required":true,"schema":{"type":"string","description":"API version","title":"Version"},"description":"API version"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SpecFilesResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/apis":{"post":{"tags":["Public/Search"],"summary":"Search Apis","description":"Perform a search on API specifications.","operationId":"search_apis_api_v1_search_apis_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/workflows":{"post":{"tags":["Public/Search"],"summary":"Search Api Workflows","description":"Perform a search on API workflows.","operationId":"search_api_workflows_api_v1_search_workflows_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/operations":{"post":{"tags":["Public/Search"],"summary":"Search Api Operations","description":"Perform a search on API operations.","operationId":"search_api_operations_api_v1_search_operations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/all":{"post":{"tags":["Public/Search"],"summary":"Search All Entities","description":"Perform a unified search across APIs, workflows, and operations.","operationId":"search_all_entities_api_v1_search_all_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllSearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"404":{"description":"Not found"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"tags":["Public/Health"],"summary":"Health Check","description":"Health check endpoint for AWS service health checks.\nReturns:\n    - 200: Application is healthy\n    - 503: Application is unhealthy","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/scorecards/{api_spec_id}/{version}":{"get":{"tags":["Public/Scorecards"],"summary":"Get scorecard for a specific API version","description":"Retrieve a scorecard for a specific API specification version.","operationId":"get_scorecard_api_scorecards__api_spec_id___version__get","parameters":[{"name":"api_spec_id","in":"path","required":true,"schema":{"type":"string","title":"Api Spec Id"}},{"name":"version","in":"path","required":true,"schema":{"type":"string","title":"Version"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScorecardResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/scorecards/{api_spec_id}":{"get":{"tags":["Public/Scorecards"],"summary":"Get all scorecards for an API","description":"Retrieve all scorecards for a specific API specification.","operationId":"get_api_scorecards_api_scorecards__api_spec_id__get","parameters":[{"name":"api_spec_id","in":"path","required":true,"schema":{"type":"string","title":"Api Spec Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ScorecardResponse"},"title":"Response Get Api Scorecards Api Scorecards  Api Spec Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/index/spec/{spec_id}/{version}":{"post":{"tags":["index"],"summary":"Index Specific API","description":"Index a specific API specification.\n\nThis endpoint triggers a job to index the specified API by its ID and version.\n\n- **spec_id**: API specification ID (path parameter)\n- **version**: API specification version (path parameter)\n- **parameters**: Optional additional parameters for the indexing operation\n\nReturns a job ID that can be used to check the status of the indexing operation.","operationId":"index_spec_index_spec__spec_id___version__post","parameters":[{"name":"spec_id","in":"path","required":true,"schema":{"type":"string","title":"Spec Id"}},{"name":"version","in":"path","required":true,"schema":{"type":"string","title":"Version"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/IndexSpecRequest"},{"type":"null"}],"title":"Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndexerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/index/all":{"post":{"tags":["index"],"summary":"Index All APIs","description":"Index all API specifications in the repository.\n\nUse this endpoint to trigger a job that will index all APIs in the repository.\nYou can optionally specify a limit to process only a subset of APIs.\n\n- **limit**: Optional maximum number of APIs to process\n\nReturns a job ID that can be used to check the status of the indexing operation.","operationId":"index_all_index_all_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndexAllRequest","description":"Indexing parameters"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndexerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/index/status/{job_id}":{"get":{"tags":["index"],"summary":"Get Index Status","description":"Get the status of an indexer job.\n\nArgs:\n    job_id: Indexer job ID\n    db_session: Database session\n\nReturns:\n    Indexer job details","operationId":"get_index_status_index_status__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndexerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/index/history/{spec_id}/{version}":{"get":{"tags":["index"],"summary":"Get Index History","description":"Get the history of indexer jobs for a specific API.\n\nArgs:\n    spec_id: API specification ID\n    version: API specification version\n    limit: Maximum number of results to return\n    db_session: Database session\n\nReturns:\n    List of indexer job details","operationId":"get_index_history_index_history__spec_id___version__get","parameters":[{"name":"spec_id","in":"path","required":true,"schema":{"type":"string","title":"Spec Id"}},{"name":"version","in":"path","required":true,"schema":{"type":"string","title":"Version"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","description":"Maximum number of results to return","default":10,"title":"Limit"},"description":"Maximum number of results to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/IndexerResponse"},"title":"Response Get Index History Index History  Spec Id   Version  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"APISearchResult":{"properties":{"id":{"type":"string","title":"Id"},"api_id":{"type":"string","title":"Api Id"},"api_name":{"type":"string","title":"Api Name"},"api_version":{"type":"string","title":"Api Version"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"distance":{"type":"number","title":"Distance"},"entity_type":{"$ref":"#/components/schemas/EntityType"},"is_latest_version":{"type":"boolean","title":"Is Latest Version"},"source_url":{"type":"string","title":"Source Url"}},"type":"object","required":["id","api_id","api_name","api_version","distance","entity_type","is_latest_version","source_url"],"title":"APISearchResult","description":"Result from API specification search."},"APISpecListResponse":{"properties":{"id":{"type":"string","title":"Id"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version"},"source_url":{"type":"string","title":"Source Url"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","required":["id","version","source_url","name","description"],"title":"APISpecListResponse","description":"Response model for API specification search results."},"AllSearchRequest":{"properties":{"query":{"type":"string","title":"Query","description":"The search query"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results to return","default":10},"api_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Id","description":"Filter by API ID or name"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version","description":"Filter by version ('latest', 'all', or specific version)","default":"latest"},"include_all_versions":{"type":"boolean","title":"Include All Versions","description":"Include all versions in results (overrides version parameter)","default":false},"entity_types":{"anyOf":[{"items":{"$ref":"#/components/schemas/EntityType"},"type":"array"},{"type":"null"}],"title":"Entity Types","description":"Types of entities to search for (defaults to all)"}},"type":"object","required":["query"],"title":"AllSearchRequest","description":"Request for unified search across all entity types."},"EntityType":{"type":"string","enum":["api","workflow","operation"],"title":"EntityType","description":"Type of entity to search for."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IndexAllRequest":{"properties":{"limit":{"anyOf":[{"type":"integer","minimum":1.0},{"type":"null"}],"title":"Limit","description":"Maximum number of API specifications to process","examples":[5,10]}},"type":"object","title":"Index All Request","description":"Request model for indexing all specifications."},"IndexSpecRequest":{"properties":{"parameters":{"type":"object","title":"Parameters","description":"Optional additional parameters for the indexing operation","default":{}}},"type":"object","title":"IndexSpecRequest","description":"Request model for indexing a single specification.","examples":[{}]},"IndexerResponse":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Unique ID for the indexer job"},"status":{"type":"string","title":"Status","description":"Status of the job (pending, running, completed, failed)"},"result":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Result","description":"Result of the job, if available"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error","description":"Error message if the job failed"}},"type":"object","required":["job_id","status"],"title":"IndexerResponse","description":"Response model for indexer jobs.","examples":[{"job_id":"550e8400-e29b-41d4-a716-446655440000","result":{"message":"Indexing completed successfully"},"status":"completed"},{"error":"Failed to index API specification","job_id":"550e8400-e29b-41d4-a716-446655440001","status":"failed"}]},"OperationSearchRequest":{"properties":{"query":{"type":"string","title":"Query","description":"The search query"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results to return","default":10},"api_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Id","description":"Filter by API ID or name"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version","description":"Filter by version ('latest', 'all', or specific version)","default":"latest"},"include_all_versions":{"type":"boolean","title":"Include All Versions","description":"Include all versions in results (overrides version parameter)","default":false},"method":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Method","description":"Filter by HTTP method (GET, POST, etc.)"},"path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Path","description":"Filter by path pattern"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Filter by operation tags"}},"type":"object","required":["query"],"title":"OperationSearchRequest","description":"Request for operation search."},"OperationSearchResult":{"properties":{"id":{"type":"string","title":"Id"},"api_id":{"type":"string","title":"Api Id"},"api_name":{"type":"string","title":"Api Name"},"api_version":{"type":"string","title":"Api Version"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"distance":{"type":"number","title":"Distance"},"entity_type":{"$ref":"#/components/schemas/EntityType"},"is_latest_version":{"type":"boolean","title":"Is Latest Version"},"operation_uuid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Operation Id"},"path":{"type":"string","title":"Path"},"method":{"type":"string","title":"Method"},"summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Summary"}},"type":"object","required":["id","api_id","api_name","api_version","distance","entity_type","is_latest_version","path","method"],"title":"OperationSearchResult","description":"Result from operation search."},"ScorecardResponse":{"properties":{"schema_complexity":{"type":"number","title":"Schema Complexity","description":"Schema complexity score"},"surface_complexity":{"type":"number","title":"Surface Complexity","description":"Surface complexity score"},"security_complexity":{"type":"number","title":"Security Complexity","description":"Security complexity score"},"response_complexity":{"type":"number","title":"Response Complexity","description":"Response complexity score"},"api_behavior":{"type":"number","title":"Api Behavior","description":"API behavior score"},"documentation_quality":{"type":"number","title":"Documentation Quality","description":"Documentation quality score"},"content_complexity":{"type":"number","title":"Content Complexity","description":"Content complexity score"},"error_handling_quality":{"type":"number","title":"Error Handling Quality","description":"Error handling quality score"},"destructiveness":{"type":"number","title":"Destructiveness","description":"Destructiveness score"},"cross_cutting_concerns":{"type":"number","title":"Cross Cutting Concerns","description":"Cross-cutting concerns score"},"final_score":{"type":"number","title":"Final Score","description":"Final weighted score"},"id":{"type":"integer","title":"Id","description":"Scorecard ID"},"api_version_id":{"type":"integer","title":"Api Version Id","description":"ID of the API version"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"When the scorecard was created"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"When the scorecard was last updated"}},"type":"object","required":["schema_complexity","surface_complexity","security_complexity","response_complexity","api_behavior","documentation_quality","content_complexity","error_handling_quality","destructiveness","cross_cutting_concerns","final_score","id","api_version_id","created_at","updated_at"],"title":"ScorecardResponse","description":"Schema for returning a scorecard."},"SearchRequest":{"properties":{"query":{"type":"string","title":"Query","description":"The search query"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results to return","default":10},"api_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Id","description":"Filter by API ID or name"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version","description":"Filter by version ('latest', 'all', or specific version)","default":"latest"},"include_all_versions":{"type":"boolean","title":"Include All Versions","description":"Include all versions in results (overrides version parameter)","default":false}},"type":"object","required":["query"],"title":"SearchRequest","description":"Base search request."},"SearchResponse":{"properties":{"apis":{"anyOf":[{"items":{"$ref":"#/components/schemas/APISearchResult"},"type":"array"},{"type":"null"}],"title":"Apis","description":"API specification results","default":[]},"workflows":{"anyOf":[{"items":{"$ref":"#/components/schemas/WorkflowSearchResult"},"type":"array"},{"type":"null"}],"title":"Workflows","description":"Workflow results","default":[]},"operations":{"anyOf":[{"items":{"$ref":"#/components/schemas/OperationSearchResult"},"type":"array"},{"type":"null"}],"title":"Operations","description":"Operation results","default":[]},"total_count":{"type":"integer","title":"Total Count","description":"Total number of results","default":0},"query":{"type":"string","title":"Query","description":"Original search query"}},"type":"object","required":["query"],"title":"SearchResponse","description":"Response for all search endpoints."},"SpecFileResponse":{"properties":{"filename":{"type":"string","title":"Filename","description":"Filename of the spec file"},"content":{"type":"object","title":"Content","description":"Content of the spec file as JSON"}},"type":"object","required":["filename","content"],"title":"SpecFileResponse","description":"API specification file response."},"SpecFilesResponse":{"properties":{"api_id":{"type":"string","title":"Api Id","description":"API specification ID"},"name":{"type":"string","title":"Name","description":"API name"},"version":{"type":"string","title":"Version","description":"API version"},"files":{"items":{"$ref":"#/components/schemas/SpecFileResponse"},"type":"array","title":"Files","description":"List of spec files"}},"type":"object","required":["api_id","name","version","files"],"title":"SpecFilesResponse","description":"Response for listing spec files for an API version."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WorkflowSearchRequest":{"properties":{"query":{"type":"string","title":"Query","description":"The search query"},"limit":{"type":"integer","title":"Limit","description":"Maximum number of results to return","default":10},"api_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Id","description":"Filter by API ID or name"},"version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Version","description":"Filter by version ('latest', 'all', or specific version)","default":"latest"},"include_all_versions":{"type":"boolean","title":"Include All Versions","description":"Include all versions in results (overrides version parameter)","default":false},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags","description":"Filter by workflow tags"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Filter by workflow name pattern"}},"type":"object","required":["query"],"title":"WorkflowSearchRequest","description":"Request for workflow search."},"WorkflowSearchResult":{"properties":{"id":{"type":"string","title":"Id"},"api_id":{"type":"string","title":"Api Id"},"api_name":{"type":"string","title":"Api Name"},"api_version":{"type":"string","title":"Api Version"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"tags":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Tags"},"distance":{"type":"number","title":"Distance"},"entity_type":{"$ref":"#/components/schemas/EntityType"},"is_latest_version":{"type":"boolean","title":"Is Latest Version"},"workflow_id":{"type":"string","title":"Workflow Id"},"name":{"type":"string","title":"Name"},"steps_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Steps Count"}},"type":"object","required":["id","api_id","api_name","api_version","distance","entity_type","is_latest_version","workflow_id","name"],"title":"WorkflowSearchResult","description":"Result from workflow search."}}},"tags":[{"name":"Public","description":"Public API endpoints available to all users"},{"name":"Public/Health","description":"Health check endpoints for monitoring system status"},{"name":"Public/Specs","description":"API specifications endpoints"},{"name":"Public/Search","description":"Search endpoints for APIs, workflows, and operations"},{"name":"Public/Scorecards","description":"API quality scorecards for public use"},{"name":"Internal","description":"Internal API endpoints for system operations. Requires Internal-API-Key header."},{"name":"index","description":"Index operations for API specifications"}]}